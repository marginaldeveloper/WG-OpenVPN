# üîß –ì–∞–π–¥ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ OpenVPN –∏ WireGuard –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
–í–∑—è–ª –∏–∑ —ç—Ç–∏—Ö –≤–∏–¥–µ–æ –∏–Ω–¥—É—Å–æ–≤: 
OpenVPN: https://www.youtube.com/watch?v=aViCCFztoAE
WG: https://www.youtube.com/watch?v=bVKNSf1p1d0

## ‚úÖ –ß–∞—Å—Ç—å 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ OpenVPN

### üåê –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
–í—ã–ø–æ–ª–Ω–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```bash
sudo apt update && sudo apt upgrade -y
```

### ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è OpenVPN
–î–æ–±–∞–≤—å—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π OpenVPN –∏ –∫–ª—é—á–∏ –¥–ª—è –ø–æ–¥–ø–∏—Å–∏:
```bash
echo "deb [signed-by=/etc/apt/keyrings/openvpn-as.gpg.key] http://as-repository.openvpn.net/as/debian $(lsb_release -cs) main" | sudo tee /etc/apt/sources.list.d/openvpn-as.list
wget --quiet -O - https://as-repository.openvpn.net/as-repo-public.gpg | sudo tee /etc/apt/keyrings/openvpn-as.gpg.key
```

### ‚öñÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
sudo apt install apt-transport-https ca-certificates -y
sudo apt update
```

### üè† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ OpenVPN
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ OpenVPN Access Server:
```bash
sudo apt install -y openvpn-as
```

### üîì –î–æ—Å—Ç—É–ø –∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:
- **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**: `http://your-server-ip/admin`
- **–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: `http://your-server-ip`

–í–æ–π–¥–∏—Ç–µ —Å —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å—å—é `openvpn` –∏ –ø–∞—Ä–æ–ª–µ–º, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –≤–æ –≤—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏.

### ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ Admin UI
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **User Management > User Permissions**.
2. –î–æ–±–∞–≤—å—Ç–µ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
3. –ù–∞–∂–º–∏—Ç–µ **More Settings**, —á—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

### üíæ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ VPN
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Client UI**.
2. –í–æ–π–¥–∏—Ç–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ —Å–∫–∞—á–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∫–ª–∏–µ–Ω—Ç–∞ VPN.

---

## ‚úÖ –ß–∞—Å—Ç—å 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ WireGuard

### üîê –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞
–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∏ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á–∏:
```bash
wg genkey | tee privatekey | wg pubkey > publickey
```
**–í–∞–∂–Ω–æ!** –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ.

### üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –Ω—É–∂–Ω–æ–º—É:
```bash
ip link
```
> –ï—Å–ª–∏ –≤–∞—à –∞–¥–∞–ø—Ç–µ—Ä –Ω–µ `eth0`, –∑–∞–º–µ–Ω–∏—Ç–µ –µ–≥–æ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ WireGuard.

### üóíÔ∏è –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ WireGuard
–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª:
```bash
sudo nano /etc/wireguard/wg0.conf
```
–ü—Ä–∏–º–µ—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–∞:
```ini
[Interface]
PrivateKey = <–≤–∞—à –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á>
Address = 10.0.0.1/8
SaveConfig = true
PostUp = iptables -A FORWARD -i wg0 -j ACCEPT; iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
PostDown = iptables -D FORWARD -i wg0 -j ACCEPT; iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE
ListenPort = 51820
```

### üöÄ –ó–∞–ø—É—Å–∫ WireGuard
–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å WireGuard:
```bash
sudo wg-quick up wg0
sudo wg-quick status wg0
```

---

## ‚úÖ –ß–∞—Å—Ç—å 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è WireGuard

### üîê –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
–°–æ–∑–¥–∞–π—Ç–µ –∫–ª—é—á–∏:
```bash
wg genkey | tee Client_privatekey | wg pubkey > Client_publickey
```

### üîç –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ –∫–ª–∏–µ–Ω—Ç–∞
```bash
cat Client_privatekey
```

### üóíÔ∏è –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞
–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ:
```ini
[Interface]
PrivateKey = <–ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –∫–ª–∏–µ–Ω—Ç–∞>
ListenPort = 54021
Address = 10.0.0.2/8
DNS = 192.168.31.1, 192.168.31.1

[Peer]
PublicKey = <–ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á —Å–µ—Ä–≤–µ—Ä–∞>
AllowedIPs = 0.0.0.0/0
Endpoint = <SERVER_IP>:51820
PersistentKeepalive = 30
```

### ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
```bash
sudo wg set wg0 peer <–ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –∫–ª–∏–µ–Ω—Ç–∞> allowed-ips 10.0.0.2/32
```

### üîÑ –í–∫–ª—é—á–µ–Ω–∏–µ –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏–∏ IP
```bash
sudo sysctl -w net.ipv4.ip_forward=1
```

### üìù –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
```bash
ping 10.0.0.2
ping 8.8.8.8
```
> –ï—Å–ª–∏ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –æ—Ç–≤–µ—Ç—ã –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞.

---

## üñäÔ∏è –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- [üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è OpenVPN](https://openvpn.net/community-resources/)
- [üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è WireGuard](https://www.wireguard.com/documentation/)
- [üåê –§–æ—Ä—É–º OpenVPN](https://www.reddit.com/r/openvpn/)
- [üåê –§–æ—Ä—É–º WireGuard](https://www.reddit.com/r/WireGuard/)

---

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –ø–æ–ª–Ω—ã–π –≥–∞–π–¥ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ OpenVPN –∏ WireGuard!

